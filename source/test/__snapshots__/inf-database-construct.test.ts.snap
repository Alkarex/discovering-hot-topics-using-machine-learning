// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`test workflow stack 1`] = `
Object {
  "Resources": Object {
    "TestBucket560B80BC": Object {
      "DeletionPolicy": "Retain",
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "TestDBEntityEntitiesTable9F624002": Object {
      "Properties": Object {
        "CatalogId": Object {
          "Ref": "AWS::AccountId",
        },
        "DatabaseName": Object {
          "Ref": "TestDBTweetDBAFCEF20F",
        },
        "TableInput": Object {
          "Description": "entity generated by CDK",
          "Name": "entity",
          "Parameters": Object {
            "has_encrypted_data": false,
          },
          "PartitionKeys": Array [],
          "StorageDescriptor": Object {
            "Columns": Array [
              Object {
                "Name": "account_name",
                "Type": "string",
              },
              Object {
                "Name": "platform",
                "Type": "string",
              },
              Object {
                "Name": "search_query",
                "Type": "string",
              },
              Object {
                "Name": "id_str",
                "Type": "string",
              },
              Object {
                "Name": "created_at",
                "Type": "timestamp",
              },
              Object {
                "Name": "text",
                "Type": "string",
              },
              Object {
                "Name": "translated_text",
                "Type": "string",
              },
              Object {
                "Name": "entity_text",
                "Type": "string",
              },
              Object {
                "Name": "entity_type",
                "Type": "string",
              },
              Object {
                "Name": "entity_score",
                "Type": "double",
              },
              Object {
                "Name": "entity_begin_offset",
                "Type": "int",
              },
              Object {
                "Name": "entity_end_offset",
                "Type": "int",
              },
            ],
            "Compressed": false,
            "InputFormat": "org.apache.hadoop.mapred.TextInputFormat",
            "Location": Object {
              "Fn::Join": Array [
                "",
                Array [
                  "s3://",
                  Object {
                    "Ref": "TestBucket560B80BC",
                  },
                  "/entity/",
                ],
              ],
            },
            "OutputFormat": "org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat",
            "SerdeInfo": Object {
              "SerializationLibrary": "org.openx.data.jsonserde.JsonSerDe",
            },
            "StoredAsSubDirectories": false,
          },
          "TableType": "EXTERNAL_TABLE",
        },
      },
      "Type": "AWS::Glue::Table",
    },
    "TestDBGlueCloudWatch1B9AB334": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "EnableKeyRotation": true,
        "KeyPolicy": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "kms:Create*",
                "kms:Describe*",
                "kms:Enable*",
                "kms:List*",
                "kms:Put*",
                "kms:Update*",
                "kms:Revoke*",
                "kms:Disable*",
                "kms:Get*",
                "kms:Delete*",
                "kms:ScheduleKeyDeletion",
                "kms:CancelKeyDeletion",
                "kms:GenerateDataKey",
                "kms:TagResource",
                "kms:UntagResource",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::",
                      Object {
                        "Ref": "AWS::AccountId",
                      },
                      ":root",
                    ],
                  ],
                },
              },
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "kms:Decrypt",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "Service": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "logs.",
                      Object {
                        "Ref": "AWS::Region",
                      },
                      ".amazonaws.com",
                    ],
                  ],
                },
              },
              "Resource": "*",
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::KMS::Key",
      "UpdateReplacePolicy": "Retain",
    },
    "TestDBGlueSecConfig0DDD9B15": Object {
      "Properties": Object {
        "EncryptionConfiguration": Object {
          "CloudWatchEncryption": Object {
            "CloudWatchEncryptionMode": "SSE-KMS",
            "KmsKeyArn": Object {
              "Fn::GetAtt": Array [
                "TestDBGlueCloudWatch1B9AB334",
                "Arn",
              ],
            },
          },
          "S3Encryptions": Array [
            Object {
              "S3EncryptionMode": "SSE-S3",
            },
          ],
        },
        "Name": "socialmediadb-sec-config",
      },
      "Type": "AWS::Glue::SecurityConfiguration",
    },
    "TestDBKeyPhraseTable22CDC136": Object {
      "Properties": Object {
        "CatalogId": Object {
          "Ref": "AWS::AccountId",
        },
        "DatabaseName": Object {
          "Ref": "TestDBTweetDBAFCEF20F",
        },
        "TableInput": Object {
          "Description": "keyphrase generated by CDK",
          "Name": "keyphrase",
          "Parameters": Object {
            "has_encrypted_data": false,
          },
          "PartitionKeys": Array [],
          "StorageDescriptor": Object {
            "Columns": Array [
              Object {
                "Name": "account_name",
                "Type": "string",
              },
              Object {
                "Name": "platform",
                "Type": "string",
              },
              Object {
                "Name": "search_query",
                "Type": "string",
              },
              Object {
                "Name": "id_str",
                "Type": "string",
              },
              Object {
                "Name": "created_at",
                "Type": "timestamp",
              },
              Object {
                "Name": "text",
                "Type": "string",
              },
              Object {
                "Name": "translated_text",
                "Type": "string",
              },
              Object {
                "Name": "phrase",
                "Type": "string",
              },
              Object {
                "Name": "phrase_score",
                "Type": "double",
              },
              Object {
                "Name": "phrase_begin_offset",
                "Type": "int",
              },
              Object {
                "Name": "phrase_end_offset",
                "Type": "int",
              },
            ],
            "Compressed": false,
            "InputFormat": "org.apache.hadoop.mapred.TextInputFormat",
            "Location": Object {
              "Fn::Join": Array [
                "",
                Array [
                  "s3://",
                  Object {
                    "Ref": "TestBucket560B80BC",
                  },
                  "/keyphrase/",
                ],
              ],
            },
            "OutputFormat": "org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat",
            "SerdeInfo": Object {
              "SerializationLibrary": "org.openx.data.jsonserde.JsonSerDe",
            },
            "StoredAsSubDirectories": false,
          },
          "TableType": "EXTERNAL_TABLE",
        },
      },
      "Type": "AWS::Glue::Table",
    },
    "TestDBModerationLabelsTable30B5D54D": Object {
      "Properties": Object {
        "CatalogId": Object {
          "Ref": "AWS::AccountId",
        },
        "DatabaseName": Object {
          "Ref": "TestDBTweetDBAFCEF20F",
        },
        "TableInput": Object {
          "Description": "moderation_labels generated by CDK",
          "Name": "moderation_labels",
          "Parameters": Object {
            "has_encrypted_data": false,
          },
          "PartitionKeys": Array [],
          "StorageDescriptor": Object {
            "Columns": Array [
              Object {
                "Name": "account_name",
                "Type": "string",
              },
              Object {
                "Name": "platform",
                "Type": "string",
              },
              Object {
                "Name": "search_query",
                "Type": "string",
              },
              Object {
                "Name": "id_str",
                "Type": "string",
              },
              Object {
                "Name": "created_at",
                "Type": "timestamp",
              },
              Object {
                "Name": "image_url",
                "Type": "string",
              },
              Object {
                "Name": "label_name",
                "Type": "string",
              },
              Object {
                "Name": "confidence",
                "Type": "double",
              },
            ],
            "Compressed": false,
            "InputFormat": "org.apache.hadoop.mapred.TextInputFormat",
            "Location": Object {
              "Fn::Join": Array [
                "",
                Array [
                  "s3://",
                  Object {
                    "Ref": "TestBucket560B80BC",
                  },
                  "/",
                ],
              ],
            },
            "OutputFormat": "org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat",
            "SerdeInfo": Object {
              "SerializationLibrary": "org.openx.data.jsonserde.JsonSerDe",
            },
            "StoredAsSubDirectories": false,
          },
          "TableType": "EXTERNAL_TABLE",
        },
      },
      "Type": "AWS::Glue::Table",
    },
    "TestDBSentimentTableEBBAA891": Object {
      "Properties": Object {
        "CatalogId": Object {
          "Ref": "AWS::AccountId",
        },
        "DatabaseName": Object {
          "Ref": "TestDBTweetDBAFCEF20F",
        },
        "TableInput": Object {
          "Description": "sentiment generated by CDK",
          "Name": "sentiment",
          "Parameters": Object {
            "has_encrypted_data": false,
          },
          "PartitionKeys": Array [],
          "StorageDescriptor": Object {
            "Columns": Array [
              Object {
                "Name": "account_name",
                "Type": "string",
              },
              Object {
                "Name": "platform",
                "Type": "string",
              },
              Object {
                "Name": "search_query",
                "Type": "string",
              },
              Object {
                "Name": "id_str",
                "Type": "string",
              },
              Object {
                "Name": "created_at",
                "Type": "timestamp",
              },
              Object {
                "Name": "text",
                "Type": "string",
              },
              Object {
                "Name": "translated_text",
                "Type": "string",
              },
              Object {
                "Name": "sentiment",
                "Type": "string",
              },
              Object {
                "Name": "sentimentposscore",
                "Type": "double",
              },
              Object {
                "Name": "sentimentnegscore",
                "Type": "double",
              },
              Object {
                "Name": "sentimentneuscore",
                "Type": "double",
              },
              Object {
                "Name": "sentimentmixscore",
                "Type": "double",
              },
            ],
            "Compressed": false,
            "InputFormat": "org.apache.hadoop.mapred.TextInputFormat",
            "Location": Object {
              "Fn::Join": Array [
                "",
                Array [
                  "s3://",
                  Object {
                    "Ref": "TestBucket560B80BC",
                  },
                  "/sentiment/",
                ],
              ],
            },
            "OutputFormat": "org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat",
            "SerdeInfo": Object {
              "SerializationLibrary": "org.openx.data.jsonserde.JsonSerDe",
            },
            "StoredAsSubDirectories": false,
          },
          "TableType": "EXTERNAL_TABLE",
        },
      },
      "Type": "AWS::Glue::Table",
    },
    "TestDBTopicMappingsTopicsTable184F8511": Object {
      "Properties": Object {
        "CatalogId": Object {
          "Ref": "AWS::AccountId",
        },
        "DatabaseName": Object {
          "Ref": "TestDBTweetDBAFCEF20F",
        },
        "TableInput": Object {
          "Description": "topic_mappings generated by CDK",
          "Name": "topic_mappings",
          "Parameters": Object {
            "has_encrypted_data": false,
          },
          "PartitionKeys": Array [],
          "StorageDescriptor": Object {
            "Columns": Array [
              Object {
                "Name": "job_id",
                "Type": "string",
              },
              Object {
                "Name": "job_timestamp",
                "Type": "timestamp",
              },
              Object {
                "Name": "topic",
                "Type": "string",
              },
              Object {
                "Name": "id_str",
                "Type": "string",
              },
            ],
            "Compressed": false,
            "InputFormat": "org.apache.hadoop.mapred.TextInputFormat",
            "Location": Object {
              "Fn::Join": Array [
                "",
                Array [
                  "s3://",
                  Object {
                    "Ref": "TestBucket560B80BC",
                  },
                  "/topic-mappings/",
                ],
              ],
            },
            "OutputFormat": "org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat",
            "SerdeInfo": Object {
              "SerializationLibrary": "org.openx.data.jsonserde.JsonSerDe",
            },
            "StoredAsSubDirectories": false,
          },
          "TableType": "EXTERNAL_TABLE",
        },
      },
      "Type": "AWS::Glue::Table",
    },
    "TestDBTopicsTable8087CEDA": Object {
      "Properties": Object {
        "CatalogId": Object {
          "Ref": "AWS::AccountId",
        },
        "DatabaseName": Object {
          "Ref": "TestDBTweetDBAFCEF20F",
        },
        "TableInput": Object {
          "Description": "topics generated by CDK",
          "Name": "topics",
          "Parameters": Object {
            "has_encrypted_data": false,
          },
          "PartitionKeys": Array [],
          "StorageDescriptor": Object {
            "Columns": Array [
              Object {
                "Name": "job_id",
                "Type": "string",
              },
              Object {
                "Name": "job_timestamp",
                "Type": "timestamp",
              },
              Object {
                "Name": "topic",
                "Type": "string",
              },
              Object {
                "Name": "term",
                "Type": "string",
              },
              Object {
                "Name": "weight",
                "Type": "double",
              },
            ],
            "Compressed": false,
            "InputFormat": "org.apache.hadoop.mapred.TextInputFormat",
            "Location": Object {
              "Fn::Join": Array [
                "",
                Array [
                  "s3://",
                  Object {
                    "Ref": "TestBucket560B80BC",
                  },
                  "/topics/",
                ],
              ],
            },
            "OutputFormat": "org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat",
            "SerdeInfo": Object {
              "SerializationLibrary": "org.openx.data.jsonserde.JsonSerDe",
            },
            "StoredAsSubDirectories": false,
          },
          "TableType": "EXTERNAL_TABLE",
        },
      },
      "Type": "AWS::Glue::Table",
    },
    "TestDBTweetDBAFCEF20F": Object {
      "Properties": Object {
        "CatalogId": Object {
          "Ref": "AWS::AccountId",
        },
        "DatabaseInput": Object {
          "Name": "socialmediadb",
        },
      },
      "Type": "AWS::Glue::Database",
    },
    "TestDBTweetDBEncryption98A3A837": Object {
      "Properties": Object {
        "CatalogId": Object {
          "Ref": "AWS::AccountId",
        },
        "DataCatalogEncryptionSettings": Object {
          "EncryptionAtRest": Object {
            "CatalogEncryptionMode": "SSE-KMS",
          },
        },
      },
      "Type": "AWS::Glue::DataCatalogEncryptionSettings",
    },
    "TestDBTxtInImgEntityImgTxtEntityTableA67792FB": Object {
      "Properties": Object {
        "CatalogId": Object {
          "Ref": "AWS::AccountId",
        },
        "DatabaseName": Object {
          "Ref": "TestDBTweetDBAFCEF20F",
        },
        "TableInput": Object {
          "Description": "img_text_entity generated by CDK",
          "Name": "img_text_entity",
          "Parameters": Object {
            "has_encrypted_data": false,
          },
          "PartitionKeys": Array [],
          "StorageDescriptor": Object {
            "Columns": Array [
              Object {
                "Name": "account_name",
                "Type": "string",
              },
              Object {
                "Name": "platform",
                "Type": "string",
              },
              Object {
                "Name": "search_query",
                "Type": "string",
              },
              Object {
                "Name": "id_str",
                "Type": "string",
              },
              Object {
                "Name": "created_at",
                "Type": "timestamp",
              },
              Object {
                "Name": "text",
                "Type": "string",
              },
              Object {
                "Name": "entity_text",
                "Type": "string",
              },
              Object {
                "Name": "entity_type",
                "Type": "string",
              },
              Object {
                "Name": "entity_score",
                "Type": "double",
              },
              Object {
                "Name": "entity_begin_offset",
                "Type": "int",
              },
              Object {
                "Name": "entity_end_offset",
                "Type": "int",
              },
              Object {
                "Name": "image_url",
                "Type": "string",
              },
            ],
            "Compressed": false,
            "InputFormat": "org.apache.hadoop.mapred.TextInputFormat",
            "Location": Object {
              "Fn::Join": Array [
                "",
                Array [
                  "s3://",
                  Object {
                    "Ref": "TestBucket560B80BC",
                  },
                  "/",
                ],
              ],
            },
            "OutputFormat": "org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat",
            "SerdeInfo": Object {
              "SerializationLibrary": "org.openx.data.jsonserde.JsonSerDe",
            },
            "StoredAsSubDirectories": false,
          },
          "TableType": "EXTERNAL_TABLE",
        },
      },
      "Type": "AWS::Glue::Table",
    },
    "TestDBTxtInImgKeyPhraseImgTxtKeyPhraseTable1BD0A14B": Object {
      "Properties": Object {
        "CatalogId": Object {
          "Ref": "AWS::AccountId",
        },
        "DatabaseName": Object {
          "Ref": "TestDBTweetDBAFCEF20F",
        },
        "TableInput": Object {
          "Description": "img_text_keyphrase generated by CDK",
          "Name": "img_text_keyphrase",
          "Parameters": Object {
            "has_encrypted_data": false,
          },
          "PartitionKeys": Array [],
          "StorageDescriptor": Object {
            "Columns": Array [
              Object {
                "Name": "account_name",
                "Type": "string",
              },
              Object {
                "Name": "platform",
                "Type": "string",
              },
              Object {
                "Name": "search_query",
                "Type": "string",
              },
              Object {
                "Name": "id_str",
                "Type": "string",
              },
              Object {
                "Name": "created_at",
                "Type": "timestamp",
              },
              Object {
                "Name": "text",
                "Type": "string",
              },
              Object {
                "Name": "phrase",
                "Type": "string",
              },
              Object {
                "Name": "phrase_score",
                "Type": "double",
              },
              Object {
                "Name": "phrase_begin_offset",
                "Type": "int",
              },
              Object {
                "Name": "phrase_end_offset",
                "Type": "int",
              },
              Object {
                "Name": "image_url",
                "Type": "string",
              },
            ],
            "Compressed": false,
            "InputFormat": "org.apache.hadoop.mapred.TextInputFormat",
            "Location": Object {
              "Fn::Join": Array [
                "",
                Array [
                  "s3://",
                  Object {
                    "Ref": "TestBucket560B80BC",
                  },
                  "/",
                ],
              ],
            },
            "OutputFormat": "org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat",
            "SerdeInfo": Object {
              "SerializationLibrary": "org.openx.data.jsonserde.JsonSerDe",
            },
            "StoredAsSubDirectories": false,
          },
          "TableType": "EXTERNAL_TABLE",
        },
      },
      "Type": "AWS::Glue::Table",
    },
    "TestDBTxtInImgSentimentImgTxtSentimentTable1F146A93": Object {
      "Properties": Object {
        "CatalogId": Object {
          "Ref": "AWS::AccountId",
        },
        "DatabaseName": Object {
          "Ref": "TestDBTweetDBAFCEF20F",
        },
        "TableInput": Object {
          "Description": "img_text_sentiment generated by CDK",
          "Name": "img_text_sentiment",
          "Parameters": Object {
            "has_encrypted_data": false,
          },
          "PartitionKeys": Array [],
          "StorageDescriptor": Object {
            "Columns": Array [
              Object {
                "Name": "account_name",
                "Type": "string",
              },
              Object {
                "Name": "platform",
                "Type": "string",
              },
              Object {
                "Name": "search_query",
                "Type": "string",
              },
              Object {
                "Name": "id_str",
                "Type": "string",
              },
              Object {
                "Name": "created_at",
                "Type": "timestamp",
              },
              Object {
                "Name": "text",
                "Type": "string",
              },
              Object {
                "Name": "sentiment",
                "Type": "string",
              },
              Object {
                "Name": "sentimentposscore",
                "Type": "double",
              },
              Object {
                "Name": "sentimentnegscore",
                "Type": "double",
              },
              Object {
                "Name": "sentimentneuscore",
                "Type": "double",
              },
              Object {
                "Name": "sentimentmixscore",
                "Type": "double",
              },
              Object {
                "Name": "image_url",
                "Type": "string",
              },
            ],
            "Compressed": false,
            "InputFormat": "org.apache.hadoop.mapred.TextInputFormat",
            "Location": Object {
              "Fn::Join": Array [
                "",
                Array [
                  "s3://",
                  Object {
                    "Ref": "TestBucket560B80BC",
                  },
                  "/",
                ],
              ],
            },
            "OutputFormat": "org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat",
            "SerdeInfo": Object {
              "SerializationLibrary": "org.openx.data.jsonserde.JsonSerDe",
            },
            "StoredAsSubDirectories": false,
          },
          "TableType": "EXTERNAL_TABLE",
        },
      },
      "Type": "AWS::Glue::Table",
    },
  },
}
`;
